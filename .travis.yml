language: python
cache: pip
os:
- linux
env:
  matrix:
  - TOX_ENV=python
  - TOX_ENV=flake8
  - TOX_ENV=spelling
  - TOX_ENV=package
install:
- sudo apt-get install python-enchant -y
- pip install --upgrade pip
- pip install tox coveralls
script:
- tox -e $TOX_ENV
after_success: test $TOX_ENV = "python" && coveralls
deploy:
- provider: pypi
  user: Myoldmopar
  skip_cleanup: true
  skip_upload_docs: true
  password:
    secure: BX//K2RDk9/mny6tT898Bvu99plns8aQBU4GtQun3DtkIUnepZ9ETTaZMVRWlHHavbsH62bMSaf487WDh7ZQBatfyszrZYuH5PLNGos0Ba+0TpLoileX4dFV7Fv9CVDk5FFqTHo2xD5ef5LiN56nRiRzKjAPZng63LLT8TA6LiulDhtMv65q03PpIzWFkor1I5E/BEEwA4KiQM3xYqCrOJkHH63xOXgG/LBkcNMA5NgQb0+CYMbhmIhfrqT/aMMgdk2dBq1M+3xkf33PcU+smw41rJcb503yXuQQzUz6KkHHqniev96GKIZGEFEkP0Dhi7ba9ghFOMwavyppUEjgFBSIssKDpn8D6GLWknA4gnoHPz+Vq4s15o+eeqWunCb/k+HoSHN6CkqFY5l0/EB6q+PVfFBco3VvZ2sqcSu9IPuN248DaHIZm1NC8KtjGAl5fOfE/+wxJ5peNiODUGyxJNydxinxtgXSTJCiq/sdp04AjDM5EzLHp4gIpQU/uJTZW64ciAU6KdCHIcPIf2rR0a49G3byVibN58646XarqjkBR07ZHHncsWo7/czD55Cz+FZf77NVlUYfRFWnCNUs39xoBOZ/RXwPtEM/BIok4H0YEAqGgAtPwRGsDIdV+dAe6msbG3cymt+zO6orO1HcOW45z21GcAjM5n2Vjv4cUG4=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: Myoldmopar/py-idd-idf
    condition: $TOX_ENV = package
